From c19e0307aa0a9063e9e504bdc991473c9398a8a0 Mon Sep 17 00:00:00 2001
From: Yuya Hamamachi <yuya.hamamachi.sx@renesas.com>
Date: Wed, 26 Apr 2023 16:45:25 +0900
Subject: [PATCH 10/10] WIP: HACK: Avoid -Wunused-but-set-variable warning

Signed-off-by: Yuya Hamamachi <yuya.hamamachi.sx@renesas.com>
---
 os/tpl_os_action.c    | 2 ++
 os/tpl_os_kernel.c    | 4 ++++
 os/tpl_os_os_kernel.c | 2 ++
 3 files changed, 8 insertions(+)

diff --git a/os/tpl_os_action.c b/os/tpl_os_action.c
index 5154cf06..3c060acc 100644
--- a/os/tpl_os_action.c
+++ b/os/tpl_os_action.c
@@ -65,6 +65,8 @@ FUNC(void, OS_CODE) tpl_action_activate_task(
 
   /*  init the error to no error  */
   VAR(StatusType, AUTOMATIC) result_action = E_OK;
+  /*  avoid -Wunused-but-set-variable warning */
+  result_action = result_action;
 
   /*  store information for error hook routine    */
   STORE_SERVICE(OSServiceId_ActivateTask)
diff --git a/os/tpl_os_kernel.c b/os/tpl_os_kernel.c
index 8f7cfde0..1c1de365 100644
--- a/os/tpl_os_kernel.c
+++ b/os/tpl_os_kernel.c
@@ -1129,6 +1129,8 @@ FUNC(void, OS_CODE) tpl_init_os(CONST(tpl_application_mode, AUTOMATIC) app_mode)
   CONST(tpl_appmode_mask, AUTOMATIC) app_mode_mask = 1 << app_mode;
 #endif
   VAR(tpl_status, AUTOMATIC) result = E_OK;
+  /*  avoid -Wunused-but-set-variable warning */
+  result = result;
 #if ALARM_COUNT > 0
   P2VAR(tpl_time_obj, AUTOMATIC, OS_APPL_DATA) auto_time_obj;
 #endif
@@ -1291,6 +1293,8 @@ FUNC(void, OS_CODE) tpl_call_terminate_isr2_service(void)
 
   /*  init the error to no error  */
   VAR(StatusType, AUTOMATIC) result = E_OK;
+  /*  avoid -Wunused-but-set-variable warning */
+  result = result;
 
   /*  lock the task structures    */
   LOCK_KERNEL()
diff --git a/os/tpl_os_os_kernel.c b/os/tpl_os_os_kernel.c
index 2746838d..38a5268a 100644
--- a/os/tpl_os_os_kernel.c
+++ b/os/tpl_os_os_kernel.c
@@ -79,6 +79,8 @@ FUNC(tpl_application_mode, OS_CODE) tpl_get_active_application_mode_service(
 {
   VAR(tpl_application_mode, AUTOMATIC) app_mode;
   VAR(tpl_status, AUTOMATIC) result = E_OK;
+  /*  avoid -Wunused-but-set-variable warning */
+  result = result;
 
   /*  lock the kernel    */
   LOCK_KERNEL()
-- 
2.34.1

