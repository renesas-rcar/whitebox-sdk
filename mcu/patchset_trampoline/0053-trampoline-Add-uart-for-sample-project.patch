From 68b785429c55761ce535517aac6526f1bc3ad67f Mon Sep 17 00:00:00 2001
From: Tsutomu Muroya <tsutomu.muroya.jy@bp.renesas.com>
Date: Thu, 2 Nov 2023 16:22:08 +0900
Subject: [PATCH] trampoline: Add uart for sample project

Signed-off-by: Tsutomu Muroya <tsutomu.muroya.jy@bp.renesas.com>
---
 examples/renesas/sample/sample.c   | 2 ++
 examples/renesas/sample/sample.oil | 2 ++
 2 files changed, 4 insertions(+)

diff --git a/examples/renesas/sample/sample.c b/examples/renesas/sample/sample.c
index 7c7571c0..ce9420bf 100644
--- a/examples/renesas/sample/sample.c
+++ b/examples/renesas/sample/sample.c
@@ -1,10 +1,12 @@
 #include "tpl_os.h"
+#include "serial.h"
 
 extern void memory_unlocker(void);
 extern void iccom_init(void);
 
 FUNC(int, OS_APPL_CODE) main(void)
 {
+	Serial_Init();
 	iccom_init();
 	memory_unlocker();
 	StartOS(OSDEFAULTAPPMODE);
diff --git a/examples/renesas/sample/sample.oil b/examples/renesas/sample/sample.oil
index f70d00e5..b05b0b3e 100644
--- a/examples/renesas/sample/sample.oil
+++ b/examples/renesas/sample/sample.oil
@@ -38,8 +38,10 @@ CPU iccom {
       CFLAGS="-DTIME=TIME";
       CFLAGS="-Ospeed -Oinline_size";
       CFLAGS="-I../coremark -I../coremark/barebones -DITERATIONS=30000";
+      CFLAGS="-DHSCIF_1843200BPS";
       LINKER = "rlink";
       SYSTEM = CMAKE;
+      LIBRARY = serial;
     };
     SYSTEM_CALL = TRUE;
   };
-- 
2.25.1

